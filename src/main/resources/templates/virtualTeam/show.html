<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!--/*/ <th:block th:include="shared/headerinc :: head"></th:block> /*/-->

    <meta name="_csrf" content="${_csrf.token}"/>
    <!-- default header name is X-CSRF-TOKEN -->
    <meta name="_csrf_header" content="${_csrf.headerName}"/>
</head>
<body>
<!--/*/ <th:block th:include="shared/header :: header"></th:block> /*/-->
<section id="main-content">
    <div class="wrap-container">
        <div class="row">
            <div class="divs box-body table-responsive" th:if="${team.getOwner() == currentUser}">
                <div class="col-md-6">
                    <section class="user_info">
                        <h2 class="text-center">Formation</h2>
                    </section>
                    <div id="field" style="position: relative; width: 70%; height: 100%; margin:0 auto;"
                         class="text-center">
                        <img src="/images/field.png" alt="" height="70%" width="80%"/>

                        <div style="width: 100%; height: 100%; position: absolute; top: 0; text-align: center">
                            <div id="FOR" style="width: 100%; height: 15%; margin-top: 10%; position: relative">
                                <div th:each="player : ${FORs}" th:id="${player.id}" class="titular"
                                     style="overflow: hidden; width: 15%; height: 100%; position: relative; display: inline-block">
                                    <img th:src="${player.getRealTeam().getEquipment()}" height="50%"/>
                                    <p style="line-height: 100%; font-weight: bold; font-size: 70%;" id="FOR"
                                       th:text="${player.name}"></p>
                                    <h2 style="visibility: hidden;" th:text="${player.cost}"></h2>
                                    <h3 style="visibility: hidden;" th:text="${player.totalPoints}"></h3>
                                    <button th:if="${idCapitao != player.id}" type="button" class="btn btn-xs captain"
                                            th:id="${player.id}" onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button th:if="${idCapitao == player.id}" type="button"
                                            class="btn btn-xs captain cpt-selected" th:id="${player.id}"
                                            onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button type="button" class="btn btn-xs btn-default trade" th:id="${player.id}"
                                            onclick="switchPlayers(this.id)"
                                            style="position: absolute; right: 0; margin-right: 10%; bottom: 0;  width: 40%; overflow: hidden">
                                        <span class="glyphicon glyphicon-retweet"></span>
                                    </button>
                                </div>
                            </div>
                            <div id="MID" style="width: 100%; height: 15%; margin-top: 15%; position: relative">
                                <div th:each="player : ${MIDs}" th:id="${player.id}" class="titular"
                                     style="overflow: hidden; width: 15%; height: 100%; position: relative; display: inline-block">
                                    <img th:src="${player.getRealTeam().getEquipment()}" height="50%"/>
                                    <p style="line-height: 100%; font-weight: bold; font-size: 70%" id="MID"
                                       th:text="${player.name}"></p>
                                    <h2 style="visibility: hidden;" th:text="${player.cost}"></h2>
                                    <h3 style="visibility: hidden;" th:text="${player.totalPoints}"></h3>
                                    <button th:if="${idCapitao != player.id}" type="button" class="btn btn-xs captain"
                                            th:id="${player.id}" onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button th:if="${idCapitao == player.id}" type="button"
                                            class="btn btn-xs captain cpt-selected" th:id="${player.id}"
                                            onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button type="button" class="btn btn-xs btn-default trade" th:id="${player.id}"
                                            onclick="switchPlayers(this.id)"
                                            style="position: absolute; right: 0; margin-right: 10%; bottom: 0;  width: 40%; overflow: hidden">
                                        <span class="glyphicon glyphicon-retweet"></span>
                                    </button>
                                </div>
                            </div>
                            <div id="DEF" style="width: 100%; height: 15%; margin-top: 15%; position: relative">
                                <div th:each="player : ${DEFs}" th:id="${player.id}" class="titular"
                                     style="overflow: hidden; width: 15%; height: 100%; position: relative; display: inline-block">
                                    <img th:src="${player.getRealTeam().getEquipment()}" height="50%"/>
                                    <p style="line-height: 100%; font-weight: bold; font-size: 70%" id="DEF"
                                       th:text="${player.name}"></p>
                                    <h2 style="visibility: hidden;" th:text="${player.cost}"></h2>
                                    <h3 style="visibility: hidden;" th:text="${player.totalPoints}"></h3>
                                    <button th:if="${idCapitao != player.id}" type="button" class="btn btn-xs captain"
                                            th:id="${player.id}" onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button th:if="${idCapitao == player.id}" type="button"
                                            class="btn btn-xs captain cpt-selected" th:id="${player.id}"
                                            onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button type="button" class="btn btn-xs btn-default trade" th:id="${player.id}"
                                            onclick="switchPlayers(this.id)"
                                            style="position: absolute;right: 0; margin-right: 10%; bottom: 0;  width: 40%; overflow: hidden">
                                        <span class="glyphicon glyphicon-retweet"></span>
                                    </button>
                                </div>
                            </div>
                            <div id="GK" style="width: 100%; height: 15%; margin-top: 5%; position: relative">
                                <div th:id="${GK.get(0).id}" class="titular"
                                     style="overflow: hidden; width: 15%; height: 100%; position: relative; display: inline-block">
                                    <img th:src="${GK.get(0).getRealTeam().getEquipment()}" height="50%"/>
                                    <p style="line-height: 100%; font-weight: bold; font-size: 70%" id="GK"
                                       th:text="${GK.get(0).name}"></p>
                                    <h2 style="visibility: hidden;" th:text="${GK.get(0).cost}"></h2>
                                    <h3 style="visibility: hidden;" th:text="${GK.get(0).totalPoints}"></h3>
                                    <button th:if="${idCapitao != GK.get(0).id}" type="button"
                                            class="btn btn-xs captain" th:id="${GK.get(0).id}"
                                            onclick="makeCaptain(this.id)"
                                            style="position: absolute;   left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button th:if="${idCapitao == GK.get(0).id}" type="button"
                                            class="btn btn-xs captain cpt-selected" th:id="${GK.get(0).id}"
                                            onclick="makeCaptain(this.id)"
                                            style="position: absolute; left: 0; bottom: 0; margin-left:10%;   width: 40%; overflow: hidden">
                                        <b>C</b>
                                    </button>
                                    <button type="button" class="btn btn-xs btn-default trade" th:id="${GK.get(0).id}"
                                            onclick="switchPlayers(this.id)"
                                            style="position: absolute; right: 0; margin-right: 10%; bottom: 0;  width: 40%; overflow: hidden">
                                        <span class="glyphicon glyphicon-retweet"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
                <div th:if="${team.getPlayers() != null}" class="col-md-5">
                    <div class="col-md-10 col-md-offset-1">
                        <h2 class="text-center">Substitutes</h2>
                        <table id="listPlayers" class="table table-bordered">
                            <tr>
                                <th class="col-md-1" style="background-color: #1abc9c;"></th>
                                <th style="background-color: #1abc9c;">Name</th>
                                <th style="background-color: #1abc9c;">Position</th>
                                <th style="background-color: #1abc9c;">Value</th>
                                <th style="background-color: #1abc9c;">Points</th>
                            </tr>
                            <tr th:id="${GKsub.get(0).id}" class="clickable-row" style="cursor:pointer;">
                                <td class="col-md-1 text-center"><img
                                        th:src="${GKsub.get(0).getRealTeam().getEquipment()}"
                                        height="20%"/></td>
                                <td th:text="${GKsub.get(0).name}">Name</td>
                                <td th:text="${GKsub.get(0).position}">position</td>
                                <td th:text="${GKsub.get(0).cost}">cost</td>
                                <td th:text="${GKsub.get(0).totalPoints}">cost</td>
                            </tr>
                            <tr th:id="${player.id}" class="clickable-row" style="cursor:pointer;"
                                th:each="player : ${DEFsub}">
                                <td class="col-md-1 text-center"><img th:src="${player.getRealTeam().getEquipment()}"
                                                                      height="20%"/></td>
                                <td th:text="${player.name}">Name</td>
                                <td th:text="${player.position}">position</td>
                                <td th:text="${player.cost}">cost</td>
                                <td th:text="${player.totalPoints}">cost</td>
                            </tr>
                            <tr th:id="${player.id}" class="clickable-row" style="cursor:pointer;"
                                th:each="player : ${MIDsub}">
                                <td class="col-md-1 text-center"><img th:src="${player.getRealTeam().getEquipment()}"
                                                                      height="20%"/></td>
                                <td th:text="${player.name}">Name</td>
                                <td th:text="${player.position}">position</td>
                                <td th:text="${player.cost}">cost</td>
                                <td th:text="${player.totalPoints}">cost</td>
                            </tr>
                            <tr th:id="${player.id}" class="clickable-row" style="cursor:pointer;"
                                th:each="player : ${FORsub}">
                                <td class="col-md-1 text-center"><img th:src="${player.getRealTeam().getEquipment()}"
                                                                      height="20%"/></td>
                                <td th:text="${player.name}">Name</td>
                                <td th:text="${player.position}">position</td>
                                <td th:text="${player.cost}">cost</td>
                                <td th:text="${player.totalPoints}">cost</td>
                            </tr>
                        </table>
                        <button type="button" class="btn btn-info pull-left btn-lg"
                                style="bottom: 20px;margin-bottom: 10%; right: 20px; background-color: #2980b9"
                                onclick="location.href='/team/historic'">Show Historic
                        </button>
                        <button type="button" class="btn btn-success pull-right btn-lg"
                                style="margin-right:5%;bottom: 20px;margin-bottom: 10%; right: 20px"
                                onclick="updateStrategy()">Update Strategy
                        </button>
                    </div>
                    <div style="margin-right: 5%">
                        <table id="gameweek" class="table table-striped table-bordered" style="vertical-align: middle">
                            <tr class="text-center" style="background-color: #2ecc71">
                                <th colspan="3" class="text-center" style="font-size: 150%;background-color: #1abc9c; font-weight: bold;">
                                    Gameweek: <span th:text="${gameWeekNumber}"></span></th>
                                <th colspan="3" class="text-center" style="font-size: 150%;background-color: #1abc9c; font-weight: bold;">  <span th:text="${gameWeekDate}"></span></th>
                            </tr>
                            <tr th:each="game : ${games}">
                                <td class="text-right" style="font-weight: bold;" th:text="${game.getTeam1().getName()}"></td>
                                <td class="text-center"><img th:src="${game.getTeam1().getBadge()}"
                                                             height="20px"/></td>
                                <td>vs</td>
                                <td class="text-center"><img th:src="${game.getTeam2().getBadge()}"
                                         height="20px"/></td>
                                <td style="font-weight: bold;" th:text="${game.getTeam2().getName()}"></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="col-md-1"></div>
                <div class="divs box-body table-responsive" th:if="${team.getOwner() != currentUser}">
                    <div class="col-md-offset-2 col-md-8">
                        <div th:if="${team.getPlayers() != null}" class="form-group">
                            <h2 class="text-center">Players list</h2>
                            <table class="table table-striped">
                                <tr>
                                    <th></th>
                                    <th>Name</th>
                                    <th>Position</th>
                                    <th>Cost</th>
                                </tr>
                                <tr th:each="player : ${team.getPlayers()}">
                                    <td class="col-md-1"><img src="http://i.imgur.com/m7ZcOFv.png" height="15%"/></td>
                                    <td th:text="${player.name}">Name</td>
                                    <td th:text="${player.position}">position</td>
                                    <td th:text="${player.cost}">cost</td>
                                </tr>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="/js/showVirtualTeam.js" type="text/javascript"></script>

</body>
<div id="divHidden" style="display: none;">
    <p th:text="${currentUser.id}" class="current-user-id"></p>
</div>

<div class="alerta col-md-3">
    <p class="p-alerta"></p>
</div>
</html>